# go-start é¡¹ç›®è¿›åº¦æŠ¥å‘Š

## é¡¹ç›®ç›®æ ‡

å¼€å‘ä¸€ä¸ªé«˜çº§ç‰ˆ Go è„šæ‰‹æž¶å·¥å…·ï¼ˆåŸºäºŽ nunu çš„æ”¹è¿›ï¼‰ï¼Œç›®æ ‡æ˜¯ï¼š
- **æ–°äººå‹å¥½**: è¯¦ç»†ä¸­æ–‡æ³¨é‡Šã€äº¤äº’å¼å‘å¯¼ã€è‡ªåŠ¨åŒ–å·¥å…·
- **é«˜æ‰‹èµ‹èƒ½**: spec-driven å¼€å‘ã€æ’ä»¶ç³»ç»Ÿã€å®Œå…¨å¯å®šåˆ¶
- **CRUD è‡ªåŠ¨åŒ–**: ä½¿ç”¨ GORM Gen è‡ªåŠ¨ç”Ÿæˆ CRUD ä»£ç ï¼Œè®©å·¥ç¨‹å¸ˆä¸“æ³¨ä¸šåŠ¡é€»è¾‘
- **æœ¬åœ°è¿è¡Œ**: æ— éœ€ GitHub/GitLabï¼Œå®Œå…¨æœ¬åœ°åŒ–èƒ½åŠ›

## å½“å‰å®žçŽ°çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### 1. äº¤äº’å¼é¡¹ç›®åˆ›å»ºå‘å¯¼ (`pkg/wizard/`)
- 9 æ­¥å‘å¯¼å¼é¡¹ç›®åˆ›å»º
- å…¨ä¸­æ–‡ç•Œé¢
- æ”¯æŒæž¶æž„é€‰æ‹©ï¼ˆMVC/DDDï¼‰
- æ”¯æŒæ•°æ®åº“é€‰æ‹©ï¼ˆMySQL/PostgreSQL/SQLiteï¼‰
- æ”¯æŒå¯é€‰åŠŸèƒ½ï¼ˆRedis/è®¤è¯/Swaggerï¼‰

**ä½¿ç”¨æ–¹æ³•**:
```bash
go-start create
```

#### 2. Spec-Kit è§„èŒƒé©±åŠ¨å¼€å‘ (`pkg/spec/`)
- YAML è§„èŒƒæ–‡ä»¶è§£æž
- Modelã€APIã€éªŒè¯è§„åˆ™å®šä¹‰
- ä»£ç ç”Ÿæˆå™¨ï¼ˆåŸºäºŽæ¨¡æ¿ï¼‰
- æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿

**ä½¿ç”¨æ–¹æ³•**:
```bash
go-start spec generate --file=api.spec.yaml --output=./internal
```

**è§„èŒƒæ–‡ä»¶ç¤ºä¾‹**:
```yaml
spec: v1
kind: api
name: user-api
version: v1
project:
  module: github.com/yourname/user-api
models:
  - name: User
    table: users
    comment: ç”¨æˆ·æ¨¡åž‹
    fields:
      - name: id
        type: uint
        primary: true
        autoIncrement: true
      - name: username
        type: string
        size: 50
        notNull: true
```

#### 3. GORM Gen é›†æˆ (`pkg/gen/`)
- ä½¿ç”¨ç”Ÿäº§çº§ GORM Gen ç”Ÿæˆä»£ç 
- æ”¯æŒä»Žæ•°æ®åº“è¡¨è‡ªåŠ¨ç”Ÿæˆ Model
- æ”¯æŒäº¤äº’å¼è¡¨é€‰æ‹©
- æ”¯æŒé€šé…ç¬¦ã€èŒƒå›´é€‰æ‹©

**ä½¿ç”¨æ–¹æ³•**:
```bash
# äº¤äº’å¼é€‰æ‹©è¡¨
go-start gen db --dsn="root:pass@tcp(localhost:3306)/mydb" --interactive

# æŒ‡å®šè¡¨å
go-start gen db --dsn="..." --tables=users,articles

# é€šé…ç¬¦
go-start gen db --dsn="..." --tables="user*"
```

**ç”Ÿæˆä»£ç ç»“æž„**:
```
internal/dal/
â”œâ”€â”€ query/
â”‚   â”œâ”€â”€ gen.go           # GORM Gen æŸ¥è¯¢ API
â”‚   â”œâ”€â”€ users.go         # User è¡¨æŸ¥è¯¢æ–¹æ³•
â”‚   â””â”€â”€ ...
â””â”€â”€ models.go            # æ•°æ®æ¨¡åž‹
```

#### 4. æ•°æ®åº“æ”¯æŒ
- MySQLï¼ˆå®Œå…¨æ”¯æŒï¼‰
- PostgreSQLï¼ˆå®Œå…¨æ”¯æŒï¼‰
- SQLiteï¼ˆåŸºç¡€æ”¯æŒï¼‰

#### 5. é¡¹ç›®æ¨¡æ¿
- MVC æž¶æž„æ¨¡æ¿ï¼ˆ`templates/mvc/`ï¼‰
  - Model å±‚ï¼ˆGORM æ¨¡åž‹ï¼‰
  - Repository å±‚ï¼ˆæ•°æ®è®¿é—®ï¼‰
  - Service å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ + ç¼“å­˜ï¼‰
  - Controller å±‚ï¼ˆHTTP å¤„ç†ï¼‰
  - Routesï¼ˆè·¯ç”±æ³¨å†Œï¼‰

### ðŸš§ è¿›è¡Œä¸­åŠŸèƒ½

#### 1. å®Œæ•´ CRUD ä»£ç ç”Ÿæˆ
å½“å‰ä»…ç”Ÿæˆ GORM Gen åŸºç¡€ä»£ç ï¼ˆModel + Query APIï¼‰ï¼Œè¿˜éœ€å®žçŽ°ï¼š

- [ ] Repository å±‚ç”Ÿæˆ
  - åŸºäºŽ GORM Gen API å°è£…
  - æ ¹æ® Database Index è‡ªåŠ¨ç”ŸæˆæŸ¥è¯¢æ–¹æ³•
  - CRUD åŸºç¡€æ–¹æ³•
  - é«˜çº§æŸ¥è¯¢ï¼ˆåˆ†é¡µã€ç­›é€‰ã€æŽ’åºï¼‰

- [ ] Service å±‚ç”Ÿæˆ
  - ä¸šåŠ¡é€»è¾‘å°è£…
  - ç¼“å­˜ç­–ç•¥é›†æˆ
  - äº‹åŠ¡å¤„ç†
  - é”™è¯¯å¤„ç†

- [ ] Controller å±‚ç”Ÿæˆ
  - RESTful API ç«¯ç‚¹
  - è¯·æ±‚å‚æ•°éªŒè¯
  - ç»Ÿä¸€å“åº”æ ¼å¼
  - é”™è¯¯å¤„ç†

- [ ] è·¯ç”±è‡ªåŠ¨æ³¨å†Œ
  - æ ¹æ® API å®šä¹‰è‡ªåŠ¨ç”Ÿæˆè·¯ç”±
  - æ”¯æŒä¸­é—´ä»¶é…ç½®
  - æ”¯æŒæƒé™é…ç½®

### ðŸ“‹ å¾…å®žçŽ°åŠŸèƒ½

#### 1. DDD æž¶æž„æ”¯æŒ
- é¢„ç•™äº† `templates/ddd/` ç›®å½•
- éœ€è¦å®žçŽ° DDD æ¨¡æ¿ï¼š
  - Domain å±‚ï¼ˆé¢†åŸŸæ¨¡åž‹ã€ä»“å‚¨æŽ¥å£ï¼‰
  - Application å±‚ï¼ˆåº”ç”¨æœåŠ¡ï¼‰
  - Infrastructure å±‚ï¼ˆåŸºç¡€è®¾æ–½å®žçŽ°ï¼‰
  - Interface å±‚ï¼ˆAPI æŽ¥å£ï¼‰

#### 2. è®¤è¯ç³»ç»Ÿ
- JWT Token ç”Ÿæˆ/éªŒè¯
- ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- å¯†ç åŠ å¯†å­˜å‚¨
- æƒé™æŽ§åˆ¶ä¸­é—´ä»¶

#### 3. Swagger æ–‡æ¡£ç”Ÿæˆ
- è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£
- é›†æˆ swaggo/swag
- æ”¯æŒ API æ³¨é‡Š

#### 4. é…ç½®æ–‡ä»¶æ”¯æŒï¼ˆgen å‘½ä»¤ï¼‰
- YAML é…ç½®æ–‡ä»¶
- æ”¯æŒæ‰¹é‡é…ç½®è¡¨ç”Ÿæˆè§„åˆ™

#### 5. æ’ä»¶ç³»ç»Ÿ
- æ”¯æŒè‡ªå®šä¹‰ç”Ÿæˆå™¨æ’ä»¶
- æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿æ’ä»¶

## é¡¹ç›®ç»“æž„

```
go-start/
â”œâ”€â”€ cmd/go-start/          # CLI å·¥å…·
â”‚   â”œâ”€â”€ main.go            # å…¥å£
â”‚   â”œâ”€â”€ create.go          # create å‘½ä»¤
â”‚   â”œâ”€â”€ run.go             # run å‘½ä»¤
â”‚   â”œâ”€â”€ gen.go             # gen å‘½ä»¤ï¼ˆæ•°æ®åº“ç”Ÿæˆï¼‰
â”‚   â””â”€â”€ spec.go            # spec å‘½ä»¤ï¼ˆè§„èŒƒé©±åŠ¨ï¼‰
â”‚
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ wizard/            # äº¤äº’å¼å‘å¯¼
â”‚   â”œâ”€â”€ spec/              # spec-kit è§„èŒƒè§£æžå’Œä»£ç ç”Ÿæˆ
â”‚   â”œâ”€â”€ gen/               # æ•°æ®åº“ CRUD ä»£ç ç”Ÿæˆï¼ˆGORM Genï¼‰
â”‚   â”œâ”€â”€ cache/             # ç¼“å­˜å°è£…ï¼ˆRedisï¼‰
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“è¿žæŽ¥ç®¡ç†
â”‚   â””â”€â”€ httpx/             # HTTP å·¥å…·ï¼ˆmiddlewareã€responseã€routerï¼‰
â”‚
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ mvc/               # MVC æž¶æž„æ¨¡æ¿
â”‚       â”œâ”€â”€ model/         # Model æ¨¡æ¿
â”‚       â”œâ”€â”€ repository/    # Repository æ¨¡æ¿
â”‚       â”œâ”€â”€ service/       # Service æ¨¡æ¿ï¼ˆå¸¦ä¸­æ–‡æ³¨é‡Šï¼‰
â”‚       â””â”€â”€ controller/    # Controller æ¨¡æ¿
â”‚
â”œâ”€â”€ spec/                  # ç¤ºä¾‹è§„èŒƒæ–‡ä»¶
â”‚   â””â”€â”€ example.spec.yaml
â”‚
â””â”€â”€ docs/                  # æ–‡æ¡£
    â”œâ”€â”€ GORM_GEN_GUIDE.md  # GORM Gen ä½¿ç”¨æŒ‡å—
    â””â”€â”€ PROJECT_STATUS.md  # é¡¹ç›®çŠ¶æ€ï¼ˆæœ¬æ–‡æ¡£ï¼‰
```

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒä¾èµ–
- **CLI**: Cobra (å‘½ä»¤è¡Œæ¡†æž¶)
- **Web**: Gin (HTTP æ¡†æž¶)
- **ORM**: GORM + GORM Gen (ORM å’Œä»£ç ç”Ÿæˆ)
- **ç¼“å­˜**: go-redis (Redis å®¢æˆ·ç«¯)
- **é…ç½®**: Viper (é…ç½®ç®¡ç†)
- **YAML**: gopkg.in/yaml.v3 (YAML è§£æž)

### ä»£ç è´¨é‡
- è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
- ç±»åž‹å®‰å…¨
- é”™è¯¯å¤„ç†å®Œå–„
- ç¬¦åˆ Go æœ€ä½³å®žè·µ

## ä½¿ç”¨ç¤ºä¾‹

### 1. åˆ›å»ºæ–°é¡¹ç›®

```bash
# äº¤äº’å¼åˆ›å»º
go-start create

# æŒ‡å®šé…ç½®åˆ›å»º
go-start create --name=my-api --module=github.com/user/my-api --arch=mvc
```

### 2. ä»Žæ•°æ®åº“ç”Ÿæˆä»£ç 

```bash
# å‡è®¾ä½ æœ‰ä¸€ä¸ªç”¨æˆ·è¡¨
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

# ç”Ÿæˆä»£ç 
go-start gen db \
    --dsn="root:pass@tcp(localhost:3306)/mydb" \
    --tables=users \
    --output=./internal
```

### 3. ä½¿ç”¨è§„èŒƒé©±åŠ¨å¼€å‘

```bash
# åˆ›å»º API è§„èŒƒ
cat > user.spec.yaml <<EOF
spec: v1
kind: api
name: user-api
project:
  module: github.com/user/my-api
models:
  - name: User
    table: users
    fields:
      - name: id
        type: uint
        primary: true
      - name: username
        type: string
endpoints:
  - method: POST
    path: /users
    handler: CreateUser
  - method: GET
    path: /users/:id
    handler: GetUser
EOF

# ç”Ÿæˆä»£ç 
go-start spec generate --file=user.spec.yaml
```

## è®¾è®¡ç†å¿µ

### 1. æ–°äººå‹å¥½
- **äº¤äº’å¼å‘å¯¼**: é™ä½Žå­¦ä¹ æ›²çº¿
- **è¯¦ç»†æ³¨é‡Š**: æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸­æ–‡æ³¨é‡Šè¯´æ˜ŽèŒè´£ã€å‚æ•°ã€è¿”å›žå€¼
- **è‡ªåŠ¨åŒ–**: å‡å°‘é‡å¤åŠ³åŠ¨
- **æœ€ä½³å®žè·µ**: å†…ç½® Go é¡¹ç›®æœ€ä½³å®žè·µ

### 2. é«˜æ‰‹èµ‹èƒ½
- **spec-driven**: ç”¨ YAML å®šä¹‰ APIï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç 
- **å¯å®šåˆ¶**: æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿ã€æ’ä»¶
- **GORM Gen**: ç”Ÿäº§çº§ä»£ç ç”Ÿæˆï¼Œå®‰å…¨å¯é 
- **æž¶æž„é€‰æ‹©**: æ”¯æŒ MVC å’Œ DDDï¼ˆå¾…å®žçŽ°ï¼‰

### 3. ä¸“æ³¨ä¸šåŠ¡
- **CRUD è‡ªåŠ¨åŒ–**: æ— éœ€æ‰‹å†™é‡å¤ä»£ç 
- **ç±»åž‹å®‰å…¨**: ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- **ç»Ÿä¸€è§„èŒƒ**: å›¢é˜Ÿåä½œæ›´é¡ºç•…

## ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸï¼ˆ1-2 å‘¨ï¼‰
1. âœ… å®Œæˆ GORM Gen é›†æˆ
2. ðŸš§ å®žçŽ° Repository å±‚ç”Ÿæˆ
3. ðŸš§ å®žçŽ° Service å±‚ç”Ÿæˆ
4. ðŸš§ å®žçŽ° Controller å±‚ç”Ÿæˆ
5. ðŸš§ å®žçŽ°è·¯ç”±è‡ªåŠ¨æ³¨å†Œ

### ä¸­æœŸï¼ˆ1 ä¸ªæœˆï¼‰
1. å®žçŽ° DDD æž¶æž„æ¨¡æ¿
2. å®žçŽ°è®¤è¯ç³»ç»Ÿ
3. å®žçŽ° Swagger æ–‡æ¡£ç”Ÿæˆ
4. å®Œå–„é”™è¯¯å¤„ç†
5. æ·»åŠ å•å…ƒæµ‹è¯•

### é•¿æœŸï¼ˆ2-3 ä¸ªæœˆï¼‰
1. å®žçŽ°æ’ä»¶ç³»ç»Ÿ
2. å®žçŽ°ä»£ç çƒ­é‡è½½
3. å®žçŽ° API ç‰ˆæœ¬ç®¡ç†
4. å®žçŽ°åˆ†å¸ƒå¼è¿½è¸ª
5. å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹

## æ€»ç»“

å½“å‰é¡¹ç›®å·²ç»å®žçŽ°äº†ï¼š
- âœ… äº¤äº’å¼é¡¹ç›®åˆ›å»º
- âœ… spec-driven å¼€å‘
- âœ… GORM Gen é›†æˆï¼ˆModel + Query APIï¼‰
- âœ… æ•°æ®åº“è¿žæŽ¥å’Œè¡¨ç»“æž„è¯»å–

æ ¸å¿ƒçš„ CRUD è‡ªåŠ¨åŒ–ç”ŸæˆåŠŸèƒ½å·²ç»æ‰“é€šï¼Œå‰©ä¸‹çš„æ˜¯å®Œå–„ä¸šåŠ¡å±‚ä»£ç ç”Ÿæˆï¼ˆRepository/Service/Controllerï¼‰ã€‚

ä¸€æ—¦å®Œæˆï¼Œå·¥ç¨‹å¸ˆå°±å¯ä»¥ï¼š
1. è®¾è®¡æ•°æ®åº“è¡¨
2. è¿è¡Œ `go-start gen db`
3. ä¸“æ³¨äºŽä¸šåŠ¡é€»è¾‘å®žçŽ°

å®Œå…¨ä¸éœ€è¦æ‰‹å†™é‡å¤çš„ CRUD ä»£ç ï¼
